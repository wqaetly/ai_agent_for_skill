# 锐雯三段技能 - Broken Wings

## 技能概述

**技能名称**：折断之翼（Broken Wings）
**技能ID**：riven-broken-wings-001
**技能描述**：锐雯向前冲刺，造成物理伤害。可再次施放两次，第三次会跃起猛劈并击飞敌人。
**总持续时间**：300帧（10秒，30fps）

## 技能机制设计

### 三段式结构
采用严格的时间分段设计，确保每段技能独立且无重叠：

1. **第一段（0-99帧）**：向前冲刺 + 物理伤害
2. **第二段（100-199帧）**：向前冲刺 + 物理伤害
3. **第三段（200-299帧）**：跃起猛劈 + 范围伤害 + 击飞

### 核心数据设计（Linus式"好品味"）

数据结构消除了所有特殊情况，每段技能都是统一的时间片段：
- **动画轨道**：3个AnimationAction，对应Q1/Q2/Q3动画
- **移动轨道**：3个MovementAction，前两段冲刺，第三段跳跃
- **伤害轨道**：3个DamageAction，统一伤害公式
- **控制轨道**：1个ControlAction，仅第三段击飞
- **范围轨道**：1个AreaOfEffectAction，第三段范围判定
- **音效轨道**：3个AudioAction，对应不同音效

## 技能轨道详细配置

### Animation Track（动画轨道）
```json
Frame 0-29:   RivenQ1 动画（第一段冲刺动画）
Frame 100-129: RivenQ2 动画（第二段冲刺动画）
Frame 200-239: RivenQ3 动画（第三段跳劈动画）
```

### Movement Track（移动轨道）
```json
Frame 5-24:   冲刺移动（speed: 8.0, distance: 3.5）
Frame 105-124: 冲刺移动（speed: 8.0, distance: 3.5）
Frame 205-229: 跳跃移动（speed: 10.0, distance: 4.0, 带Y轴偏移）
```

### Damage Track（伤害轨道）
```json
Frame 15-19:  第一段伤害（基础45，AD加成65%，单体）
Frame 115-119: 第二段伤害（基础45，AD加成65%，单体）
Frame 220-224: 第三段伤害（基础45，AD加成65%，范围）
```

### Area Effect Track（范围轨道）
```json
Frame 220-229: 圆形范围（半径3.0，位置偏移4单位）
```

### Control Track（控制轨道）
```json
Frame 220-242: 击飞效果（持续0.75秒，强度1.0）
```

### Audio Track（音效轨道）
```json
Frame 5:    riven_q1 音效
Frame 105:  riven_q2 音效（音调稍高1.1）
Frame 205:  riven_q3 音效（音量更大，音调更低0.9）
```

## 技能数值设计

### 伤害计算
- **基础伤害**：45/75/105/135/165（等级成长）
- **AD加成**：65%/70%/75%/80%/85%（等级成长）
- **伤害类型**：物理伤害（DamageType = 0）
- **目标类型**：前两段单体，第三段范围

### 移动设计
- **冲刺距离**：3.5单位（前两段）
- **跳跃距离**：4.0单位（第三段，可穿越地形）
- **移动速度**：8.0（冲刺），10.0（跳跃）

### 控制效果
- **击飞时间**：0.75秒（23帧）
- **影响范围**：3.0单位半径
- **控制强度**：1.0（完全控制）

## Action脚本使用情况

严格遵循Action存在性检查规范，所有使用的Action均已存在：

✅ **AnimationAction** - 播放技能动画
✅ **MovementAction** - 处理冲刺和跳跃移动
✅ **DamageAction** - 计算物理伤害
✅ **AreaOfEffectAction** - 第三段范围判定
✅ **ControlAction** - 击飞控制效果
✅ **AudioAction** - 技能音效播放

## 设计理念

### Linus式"好品味"体现
1. **消除特殊情况**：三段技能使用统一的Action组合，无需特殊判断
2. **数据结构优先**：基于时间轴的结构化设计，清晰直观
3. **最小复杂度**：每个Action职责单一，组合实现复杂功能

### 技能设计原则
1. **时间严格性**：每段技能有明确的开始和结束时间，无重叠
2. **功能模块化**：动画、移动、伤害、控制分轨道管理
3. **参数一致性**：相同功能的Action使用相似参数配置

## 编译验证

✅ **编译状态**：成功，0个错误，12个警告（既有代码警告，非本次修改引入）
✅ **配置验证**：JSON格式正确，所有Action类型存在
✅ **时间逻辑**：所有Action的结束时间均未超过技能总时长（300帧）

## 使用说明

1. 将 `RivenBrokenWings.json` 文件放置在 `Assets/Skills/` 目录
2. 在技能编辑器中加载该配置文件
3. 可以通过修改各个Action的参数来调整技能表现
4. 第三段的 `MovementType = 3` 表示跳跃移动，支持穿越地形
5. 控制轨道的击飞效果仅在第三段生效，时机与伤害判定同步

## 扩展性

该技能配置具有良好的可扩展性：
- 可以轻松调整各段的时间间隔
- 可以独立修改每段的伤害数值
- 可以添加更多视觉效果轨道
- 可以增加更复杂的控制效果组合